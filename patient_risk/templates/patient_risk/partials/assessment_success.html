<!-- Success Message after Assessment Creation -->
<div class="success-container">
    <div class="alert alert-success">
        <div class="alert-icon">âœ“</div>
        <div class="alert-content">
            <h4>Risk Assessment Created Successfully!</h4>
            <p>CHADS2-VASc assessment for <strong>{{ assessment.person.full_name }}</strong> has been saved.</p>
        </div>
    </div>

    <!-- Assessment Summary -->
    <div class="assessment-summary-card">
        <div class="summary-header">
            <h3>Assessment Summary</h3>
        </div>

        <div class="summary-content">
            <div class="summary-item">
                <span class="label">Patient:</span>
                <span class="value">{{ assessment.person.full_name }}</span>
            </div>

            <div class="summary-item">
                <span class="label">CHADS2-VASc Score:</span>
                <span class="score-badge score-{{ assessment.chads_score }}">
                    {{ assessment.chads_score }}
                </span>
            </div>

            <div class="summary-item">
                <span class="label">Risk Level:</span>
                {% if assessment.chads_score == 0 %}
                    <span class="risk-badge risk-low">Low Risk</span>
                {% elif assessment.chads_score == 1 %}
                    <span class="risk-badge risk-moderate">Moderate Risk</span>
                {% else %}
                    <span class="risk-badge risk-high">High Risk</span>
                {% endif %}
            </div>

            <div class="summary-item">
                <span class="label">Recommendation:</span>
                <span class="recommendation">
                    {% if assessment.chads_score == 0 %}
                        Consider no anticoagulation
                    {% elif assessment.chads_score == 1 %}
                        Consider anticoagulation
                    {% else %}
                        Anticoagulation recommended
                    {% endif %}
                </span>
            </div>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="success-actions">
        <a href="{% url 'patient_risk:create' %}" class="btn btn-primary">
            Create Another Assessment
        </a>
        <a href="{% url 'patient_risk:list' %}" class="btn btn-outline">
            View All Assessments
        </a>
    </div>
</div>

<style>
    .success-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .alert-success {
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        padding: 1rem;
        background: #d1fae5;
        border: 1px solid #a7f3d0;
        border-radius: 0.5rem;
        color: #065f46;
    }

    .alert-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        background: #059669;
        color: white;
        border-radius: 50%;
        font-weight: bold;
        font-size: 1.25rem;
        flex-shrink: 0;
    }

    .alert-content h4 {
        margin: 0 0 0.25rem 0;
        font-weight: 600;
    }

    .alert-content p {
        margin: 0;
    }

    .assessment-summary-card {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        overflow: hidden;
    }

    .summary-header {
        background: #f9fafb;
        padding: 1rem;
        border-bottom: 1px solid #e5e7eb;
    }

    .summary-header h3 {
        margin: 0;
        color: #374151;
    }

    .summary-content {
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .summary-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.5rem 0;
        border-bottom: 1px solid #f3f4f6;
    }

    .summary-item:last-child {
        border-bottom: none;
    }

    .summary-item .label {
        font-weight: 500;
        color: #374151;
    }

    .summary-item .value {
        font-weight: 600;
        color: #111827;
    }

    .score-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 2rem;
        height: 2rem;
        border-radius: 50%;
        font-weight: 600;
        color: white;
    }

    .risk-badge {
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
        font-size: 0.75rem;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .recommendation {
        font-weight: 500;
        color: #374151;
    }

    .success-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        padding-top: 1rem;
        border-top: 1px solid #e5e7eb;
    }

    @media (max-width: 768px) {
        .success-actions {
            flex-direction: column;
        }

        .summary-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.25rem;
        }
    }
</style>
